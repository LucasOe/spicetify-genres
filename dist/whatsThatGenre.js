!async function(){for(;!Spicetify.React||!Spicetify.ReactDOM;)await new Promise(t=>setTimeout(t,10));var l,c,o,d,p;o={css3easing:"linear",delayBeforeStart:1e3,direction:"left",duplicated:!1,duration:5e3,gap:20,pauseOnHover:!1,recalcResize:!1,speed:0,startVisible:!1},d=0,p=class{constructor(e,i){if(void 0===e)throw new Error("el cannot be undefined");if("string"==typeof e)throw new Error("el cannot be just a selector");if(null===e)throw new Error("el cannot be null");i={...o,...i},this.el=e,this._loopCount=3;for(const s in o){let t=u(e,"data-"+o[s]);null!==t&&""!==t&&("true"!==t&&"false"!==t||(t=Boolean(t)),i[s]=t)}i.speed&&(i.duration=parseInt(e.clientWidth)/i.speed*1e3),i.gap=i.duplicated?parseInt(i.gap):0,e.innerHTML=`<div class="js-marquee">${e.innerHTML}</div>`;var t=h("js-marquee",e)[0];t.style.marginRight=i.gap+"px",t.style.willChange="transform",t.style.float="left",i.duplicated&&e.appendChild(t.cloneNode(!0)),e.innerHTML=`<div style="width:100000px" class="js-marquee-wrapper">${e.innerHTML}</div>`;const n=h("js-marquee-wrapper",e)[0],a="up"===i.direction||"down"===i.direction;this._marqWrap=n,this._vertical=a,this._duration=i.duration,this._opts=i,this._calcSizes();var t="marqueeAnimation-"+Math.floor(1e7*Math.random()),r=this._animationStr(t,i.duration/1e3,i.delayBeforeStart/1e3,"infinite");this._animName=t,this._animStr=r,i.duplicated?(a?i.startVisible?this._marqWrap.style.transform="translateY(0px)":this._marqWrap.style.transform=`translateY(${"up"===i.direction?this._contHeight:-1*(2*this._elHeight-i.gap)}px)`:i.startVisible?this._marqWrap.style.transform="translateX(0px)":this._marqWrap.style.transform=`translateX(${"left"===i.direction?this._contWidth:-1*(2*this._elWidth-i.gap)}px)`,i.startVisible||(this._loopCount=1)):i.startVisible?this._loopCount=2:a?this._repositionVert():this._repositionHor(),m(this.el,"pause",this.pause.bind(this)),m(this.el,"resume",this.resume.bind(this)),i.pauseOnHover&&(m(this.el,"mouseover",this.pause.bind(this)),m(this.el,"mouseout",this.resume.bind(this))),this._animEnd=()=>{this._animate(a),this.el.dispatchEvent(new CustomEvent("finished"))},this._instance=d,d++,this._animate(a),i.recalcResize&&m(window,"resize",this._recalcResize.bind(this))}_animationStr(t="",e=0,i=0,n=""){return t+` ${e}s ${i}s ${n} `+this._opts.css3easing}_animate(e=!1){var i=this._opts;if(i.duplicated){if(1===this._loopCount){let t=i.duration;t=e?"up"===i.direction?t+this._contHeight/(this._elHeight/t):2*t:"left"===i.direction?t+this._contWidth/(this._elWidth/t):2*t,this._animStr=this._animationStr(this._animName,t/1e3,i.delayBeforeStart/1e3)}else 2===this._loopCount&&(this._animName=this._animName+"0",this._animStr=this._animationStr(this._animName,i.duration/1e3,0,"infinite"));this._loopCount++}let t="";e?i.duplicated?(2<this._loopCount&&(this._marqWrap.style.transform=`translateY(${"up"===i.direction?0:-1*this._elHeight}px)`),t=`translateY(${"up"===i.direction?-1*this._elHeight:0}px)`):i.startVisible?2===this._loopCount?(this._animStr=this._animationStr(this._animName,i.duration/1e3,i.delayBeforeStart/1e3),t=`translateY(${"up"===i.direction?-1*this._elHeight:this._contHeight}px)`,this._loopCount++):3===this._loopCount&&(this._animName=this._animName+"0",this._animStr=this._animationStr(this._animName,this._completeDuration/1e3,0,"infinite"),this._repositionVert()):(this._repositionVert(),t=`translateY(${"up"===i.direction?-1*this._marqWrap.clientHeight:this._contHeight}px)`):i.duplicated?(2<this._loopCount&&(this._marqWrap.style.transform=`translateX(${"left"===i.direction?0:-1*this._elWidth}px)`),t=`translateX(${"left"===i.direction?-1*this._elWidth:0}px)`):i.startVisible?2===this._loopCount?(this._animStr=this._animationStr(this._animName,i.duration/1e3,i.delayBeforeStart/1e3),t=`translateX(${"left"===i.direction?-1*this._elWidth:this._contWidth}px)`,this._loopCount++):3===this._loopCount&&(this._animName=this._animName+"0",this._animStr=this._animationStr(this._animName,i.duration/1e3,0,"infinite"),this._repositionHor()):(this._repositionHor(),t=`translateX(${"left"===i.direction?-1*this._elWidth:this._contWidth}px)`),this.el.dispatchEvent(new CustomEvent("beforeStarting")),this._marqWrap.style.animation=this._animStr;var e=`@keyframes ${this._animName} {
        100% {
          transform: ${t};
        }
      }`,i=a("style",this._marqWrap);i.length?i[i.length-1].innerHTML=e:h("marq-wrap-style-"+this._instance).length?h("marq-wrap-style-"+this._instance)[0].innerHTML=e:(r(i=document.createElement("style"),"marq-wrap-style-"+this._instance),i.innerHTML=e,n("head").appendChild(i)),m(this._marqWrap,"animationiteration",this._animIter.bind(this),{once:!0}),m(this._marqWrap,"animationend",this._animEnd.bind(this),{once:!0}),this._status="running",g(this.el,"data-runningStatus","resumed")}_animIter(){this.el.dispatchEvent(new CustomEvent("finished"))}_repositionVert(){this._marqWrap.style.transform=`translateY(${"up"===this._opts.direction?this._contHeight:-1*this._elHeight}px)`}_repositionHor(){this._marqWrap.style.transform=`translateX(${"left"===this._opts.direction?this._contWidth:-1*this._elWidth}px)`}_calcSizes(){const t=this.el,i=this._opts;if(this._vertical){var e=t.clientHeight;this._contHeight=e,f(this._marqWrap,"style"),t.style.clientHeight=e+"px";const a=h("js-marquee",t),r=a.length-1;s(a,(t,e)=>{t.style.float="none",t.style.marginRight="0px",i.duplicated&&e===r?t.style.marginBottom="0px":t.style.marginBottom=i.gap+"px"});var n=parseInt(a[0].clientHeight+i.gap);this._elHeight=n,i.startVisible&&!i.duplicated?(this._completeDuration=(n+e)/parseInt(e)*this._duration,i.duration=n/parseInt(e)*this._duration):i.duration=n/parseInt(e)/parseInt(e)*this._duration}else{n=parseInt(h("js-marquee",t)[0].clientWidth+i.gap),e=t.clientWidth;this._contWidth=e,this._elWidth=n,i.startVisible&&!i.duplicated?(this._completeDuration=(n+e)/parseInt(e)*this._duration,i.duration=n/parseInt(e)*this._duration):i.duration=(n+parseInt(e))/parseInt(e)*this._duration}i.duplicated&&(i.duration=i.duration/2)}_recalcResize(){this._calcSizes(),this._loopCount=2,this._animEnd()}pause(){this._marqWrap.style.animationPlayState="paused",this._status="paused",g(this.el,"data-runningStatus","paused"),this.el.dispatchEvent(new CustomEvent("paused"))}resume(){this._marqWrap.style.animationPlayState="running",this._status="running",g(this.el,"data-runningStatus","resumed"),this.el.dispatchEvent(new CustomEvent("resumed"))}toggle(){"paused"===this._status?this.resume():"running"===this._status&&this.pause()}destroy(){t(this.el,"pause",this.pause.bind(this)),t(this.el,"resume",this.resume.bind(this)),this._opts.pauseOnHover&&(t(this.el,"mouseover",this.pause.bind(this)),t(this.el,"mouseout",this.resume.bind(this))),t(this._marqWrap,"animationiteration",this._animIter.bind(this),{once:!0}),t(this._marqWrap,"animationend",this._animEnd.bind(this),{once:!0}),this._opts.recalcResize&&t(window,"resize",this._recalcResize.bind(this))}refresh(){this._recalcResize()}},(async()=>{await e()})();function h(t,e=document){return e.getElementsByClassName(t)}function n(t,e=document){return e.querySelector(t)}function a(t,e=document){return e.querySelectorAll(t)}function s(i,n,a){for(let t=0,e=i.length;t<e;t++)n.call(a,i[t],t)}function r(t,...e){function i(e,...t){t.forEach(t=>{e.classList.add(t)})}void 0===t.length?i(t,...e):s(t,t=>{i(t,...e)})}function m(t,e,i,n){t.addEventListener(e,i,n)}function t(t,e,i,n){t.removeEventListener(e,i,n)}function u(t,e){return t.getAttribute(e)}function g(t,e,i){t.setAttribute(e,i)}function f(t,e){t.removeAttribute(e)}function _(t){return t.replace(/(^\w{1})|([\s-]+\w{1})/g,t=>t.toUpperCase())}function y(t,e,i){return t.replace(new RegExp(e,"g"),i)}async function e(){for(;null==Spicetify||!Spicetify.showNotification;)await new Promise(t=>setTimeout(t,100));let t=document.createElement("div");t.className="main-trackInfo-genres",Spicetify.Player.addEventListener("songchange",async()=>{await i(t)}),window.addEventListener("resize",()=>{!l&&22<t.offsetHeight&&(t.classList.add("marquee"),l=new p(t,{speed:50,gap:0,duplicated:!0,startVisible:!0,pauseOnHover:!0,delayBeforeStart:0}))}),window.addEventListener("resize",function(e,i=300){let n;return function(...t){clearTimeout(n),n=setTimeout(()=>e.apply(this,t),i)}}(async()=>{await i(t,c)})),window.dispatchEvent(new Event("resize"))}async function i(i,t){var e=(e=Spicetify.Player.data)?e.item.metadata.artist_uri.split(":")[2]:null;if(e){t=null!=t?t:await async function(t){t=await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/artists/${t}?locale=EN_en`);return t.genres}(e);c=t,i.className="main-trackInfo-genres",i.innerHTML="",l=void 0;for(const o of t){var n=document.createElement("a");n.className="TextElement-marginal-textSubdued-text encore-text-marginal genre-tag",n.innerHTML=_(o),n.setAttribute("genre",o),n.addEventListener("click",()=>{v(o)}),i.appendChild(n)}const s=new ResizeObserver(()=>{if(22<i.offsetHeight){i.classList.add("marquee"),l=new p(i,{speed:50,gap:0,duplicated:!0,startVisible:!0,pauseOnHover:!0,delayBeforeStart:0});for(const t of document.getElementsByClassName("genre-tag")){const e=t.getAttribute("genre");e&&(t.removeEventListener("click",()=>v(e)),t.addEventListener("click",()=>v(e)))}}s.disconnect()});s.observe(i);a=".main-nowPlayingWidget-trackInfo",r=3e3;var a,r,e=await new Promise(e=>{var t=document.querySelector(a);if(t)return e(t);let i=new MutationObserver(async()=>{var t=document.querySelector(a);t?(e(t),i.disconnect()):r&&e(await new Promise(t=>{setTimeout(()=>{i.disconnect(),t(null)},r)}))});i.observe(document.body,{childList:!0,subtree:!0})});null!=e&&e.appendChild(i)}}async function v(e){setTimeout(()=>{var t=document.createElement("div");t.className="genre-description-container",t.innerHTML=`
			<div class="skeleton" style="height: 144px;"></div>
			<div class="skeleton" style="height: 86px;"></div>
			<div class="skeleton" style="height: calc(75vh - 375px);"></div>
		`,Spicetify.PopupModal.display({title:_(e),content:t,isLarge:!0})},100);var t=await async function(t){var e="The Sound of "+_(t);t=await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/search?q=${encodeURIComponent(e)}&type=playlist`);for(const i of t.playlists.items)if("thesoundsofspotify"==i.owner.id&&i.name==e)return Spicetify.CosmosAsync.get("https://api.spotify.com/v1/playlists/"+i.id);Spicetify.showNotification("Couldn't find playlist: "+e)}(e),i=await async function(e){var t=y(y(e," ","-"),":",""),t=`https://lucasoe.github.io/spicetify-genres/api/${t}.json`;try{return(await(await fetch(t)).json()).pageProps}catch(t){Spicetify.showNotification("Couldn't find genre on Musicalyst: "+_(e))}}(e);i?document.querySelector("div.genre-description-container")&&Spicetify.PopupModal.display({title:_(e),content:await async function(t,e){var i=document.createElement("div");i.className="genre-description-container",i.appendChild(await async function(t){var e=document.createElement("div");return e.innerHTML=`<p>${t.genresAdvancedInfo.description}</p>`,e}(t)),i.appendChild(await async function(t){let i=document.createElement("div");return i.className="related-genres-container",t.relatedGenres.forEach(t=>{var e=document.createElement("div");e.className="TextElement-marginal-textSubdued-text encore-text-marginal genre-tag",e.innerHTML=_(t.genre),e.onclick=async()=>{await v(t.genre)},i.appendChild(e)}),i}(t)),e&&i.appendChild(await async function(t){var e=document.createElement("div");return e.innerHTML=`
		<a href=${t.uri} onclick="Spicetify.PopupModal.hide()" class="playlist-container">
			<img src="${t.images[0].url}" class="playlist-image" />
			<div class="playlist-description">
				<h1 class="playlist-title">${t.name}</h1>
				<p class="playlist-stats">
					${t.owner.display_name} • ${t.followers.total} likes • ${t.tracks.total} songs
				</p>
			</div>
		</a>
	`,e}(e));return i.appendChild(await async function(t){var e=document.createElement("div");return e.innerHTML=`
		<div class="description-container">
			<h2 class="main-type-alto" as="h2">Top Artists</h2>
			<div class="main-gridContainer-gridContainer">${(()=>{let i="";return t.topArtists.forEach(async t=>{var e="spotify:artist:"+t.id;i+=`
				<a href=${e} onclick="Spicetify.PopupModal.hide()" class="main-card-card">
					<div class="main-cardImage-imageWrapper">
						<img
							class="main-image-image main-cardImage-image"
							draggable="false"
							loading="lazy"
							src="${t.images[2].url}"
						/>
					</div>
					<div class="main-cardHeader-text TypeElement-balladBold-textBase-type-paddingBottom_4px">
						${t.name}
					</div>
				</a>
			`}),i})()}</div>
		</div>
	`,e}(t)),i}(i,t),isLarge:!0}):Spicetify.PopupModal.hide()}(async()=>{var t;document.getElementById("whatsThatGenre")||((t=document.createElement("style")).id="whatsThatGenre",t.textContent=String.raw`
  .main-nowPlayingWidget-trackInfo{grid-template:"pretitle pretitle" "title title" "badges subtitle" "genres genres"/auto 1fr}.main-trackInfo-genres{display:inline-flex;overflow:hidden;grid-area:genres}.marquee{display:block;position:relative;-webkit-mask-image:linear-gradient(90deg,rgba(0,0,0,0) 0%,rgb(0,0,0) 8%,rgb(0,0,0) 92%,rgba(0,0,0,0) 100%);mask-image:linear-gradient(90deg,rgba(0,0,0,0) 0%,rgb(0,0,0) 8%,rgb(0,0,0) 92%,rgba(0,0,0,0) 100%)}.marquee .js-marquee{display:inline-flex}.genre-tag{color:var(--text-subdued);margin-right:8px}.genre-tag:hover{color:var(--spice-text);text-decoration:underline;cursor:pointer}.main-embedWidgetGenerator-container{max-height:75vh}.genre-description-container{display:flex;flex-direction:column;gap:12px;-webkit-user-select:text;-moz-user-select:text;user-select:text}.genre-description-container .description-container{display:flex;flex-direction:column}.genre-description-container .related-genres-container{display:flex;flex-wrap:wrap;gap:0 12px}.genre-description-container .related-genres-container .genre-tag{color:rgba(var(--spice-rgb-selected-row),.7)!important}.genre-description-container .playlist-container{display:flex;gap:12px;align-items:center;padding:8px;border-radius:6px;background-color:rgba(var(--spice-rgb-main-secondary),.5)}.genre-description-container .playlist-container:hover{background-color:var(--spice-highlight);cursor:pointer;text-decoration:none}.genre-description-container .playlist-container .playlist-image{width:70px;height:70px;border-radius:4px}.genre-description-container .playlist-container .playlist-description{overflow:hidden}.genre-description-container .playlist-container .playlist-description .playlist-title{font-size:1.5em;font-weight:900;line-height:1.2em;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.genre-description-container .playlist-container .playlist-description .playlist-stats{font-size:.875rem;color:rgba(var(--spice-rgb-selected-row),.7)}.genre-description-container .description-container .main-type-alto{line-height:1.5em;margin-bottom:8px}.genre-description-container .description-container .main-gridContainer-gridContainer{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:16px}.genre-description-container .description-container .main-gridContainer-gridContainer .main-card-card{padding:12px}.genre-description-container .description-container .main-gridContainer-gridContainer .main-card-card .main-cardImage-imageWrapper{margin-bottom:8px;box-shadow:none;border-radius:4px;overflow:hidden}.genre-description-container .description-container .main-gridContainer-gridContainer .main-card-card .main-cardImage-imageWrapper .main-cardImage-image{height:auto;aspect-ratio:1/1;-o-object-fit:cover;object-fit:cover}.genre-description-container .description-container .main-gridContainer-gridContainer .main-card-card .main-cardHeader-text{color:var(--spice-text);padding-block-end:0px;line-height:1em;overflow-wrap:break-word}.skeleton{position:relative;overflow:hidden;width:100%;border-radius:6px;background-color:rgba(var(--spice-rgb-main-secondary),.5)}.skeleton::after{content:"";position:absolute;display:block;width:100%;height:100%;background:linear-gradient(to right,transparent,rgba(255,255,255,.1),transparent);animation:loading 2.5s infinite}@keyframes loading{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}
      `.trim(),document.head.appendChild(t))})()}();