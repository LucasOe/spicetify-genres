!async function(){for(;!Spicetify.React||!Spicetify.ReactDOM;)await new Promise(e=>setTimeout(e,10));(async()=>{(async function(){for(;null==Spicetify||!Spicetify.showNotification;)await new Promise(e=>setTimeout(e,100));let e=document.createElement("div");e.className="main-trackInfo-genres",await i(e),Spicetify.Player.addEventListener("songchange",async()=>{await i(e)})})()})();function r(e){return e.replace(/(^\w{1})|(\s+\w{1})/g,e=>e.toUpperCase())}function n(e,i,t){return e.replace(new RegExp(i,"g"),t)}async function i(t){var n,a,e=(e=Spicetify.Player.data)?e.item.metadata.artist_uri.split(":")[2]:null;e&&(e=await async function(e){e=await Spicetify.CosmosAsync.get("https://api.spotify.com/v1/artists/"+e);return e.genres}(e),t.innerHTML="",e.forEach(async e=>{var i=document.createElement("a");i.className="TextElement-marginal-textSubdued-text encore-text-marginal genre-tag",i.innerHTML=r(e),i.onclick=async()=>{await o(e)},t.appendChild(i)}),n="div.main-trackInfo-container",a=3e3,null!=(e=await new Promise(i=>{var e=document.querySelector(n);if(e)return i(e);let t=new MutationObserver(async()=>{var e=document.querySelector(n);e?(i(e),t.disconnect()):a&&i(await new Promise(e=>{setTimeout(()=>{t.disconnect(),e(null)},a)}))});t.observe(document.body,{childList:!0,subtree:!0})})))&&e.appendChild(t)}async function o(e){var i=document.createElement("div"),i=(i.className="genre-description-container",i.innerHTML=`
		<div class="skeleton" style="height: 144px;"></div>
		<div class="skeleton" style="height: 86px;"></div>
		<div class="skeleton" style="height: calc(75vh - 375px);"></div>
	`,Spicetify.PopupModal.display({title:r(e),content:i,isLarge:!0}),await async function(e){var i="The Sound of "+r(e);e=await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/search?q=${encodeURIComponent(i)}&type=playlist`);for(const t of e.playlists.items)if("thesoundsofspotify"==t.owner.id&&t.name==i)return Spicetify.CosmosAsync.get("https://api.spotify.com/v1/playlists/"+t.id);Spicetify.showNotification("Couldn't find playlist: "+i)}(e)),t=await async function(i){var e=n(n(i," ","-"),":",""),e=`https://lucasoe.github.io/spicetify-genres/api/${e}.json`;try{return(await(await fetch(e)).json()).pageProps}catch(e){Spicetify.showNotification("Couldn't find genre on Musicalyst: "+i)}}(e);t&&Spicetify.PopupModal.display({title:r(e),content:await async function(e,i){var t=document.createElement("div");t.className="genre-description-container",t.appendChild(await async function(e){var i=document.createElement("div");return i.innerHTML=`<p>${e.genresAdvancedInfo.description}</p>`,i}(e)),t.appendChild(await async function(e){let t=document.createElement("div");return t.className="related-genres-container",e.relatedGenres.forEach(e=>{var i=document.createElement("a");i.className="TextElement-marginal-textSubdued-text encore-text-marginal genre-tag",i.innerHTML=r(e.genre),i.onclick=async()=>{await o(e.genre)},t.appendChild(i)}),t}(e)),i&&t.appendChild(await async function(e){var i=document.createElement("div");return i.innerHTML=`
		<a href=${e.uri} onclick="Spicetify.PopupModal.hide()" class="playlist-container">
			<img src="${e.images[0].url}" class="playlist-image" />
			<div class="playlist-description">
				<h1 class="playlist-title">${e.name}</h1>
				<p class="playlist-stats">
					${e.owner.display_name} • ${e.followers.total} likes • ${e.tracks.total} songs
				</p>
			</div>
		</a>
	`,i}(i));return t.appendChild(await async function(e){var i=document.createElement("div");return i.innerHTML=`
		<div class="description-container">
			<h3 class="main-type-alto" as="h3">Top Artists</h3>
			<div class="main-gridContainer-gridContainer">${(()=>{let t="";return e.topArtists.forEach(async e=>{var i="spotify:artist:"+e.id;t+=`
				<a href=${i} onclick="Spicetify.PopupModal.hide()" class="main-card-card">
					<div class="main-cardImage-imageWrapper">
						<img
							class="main-image-image main-cardImage-image"
							draggable="false"
							loading="lazy"
							src="${e.images[2].url}"
						/>
					</div>
					<div class="main-cardHeader-text TypeElement-balladBold-textBase-type-paddingBottom_4px">
						${e.name}
					</div>
				</a>
			`}),t})()}</div>
		</div>
	`,i}(e)),t}(t,i),isLarge:!0})}(async()=>{var e;document.getElementById("whatsThatGenre")||((e=document.createElement("style")).id="whatsThatGenre",e.textContent=String.raw`
  .main-trackInfo-container{grid-template:"pretitle pretitle" "title title" "badges subtitle" "genres genres"/auto 1fr}.main-trackInfo-genres{display:flex;flex-wrap:wrap;gap:0 8px;grid-area:genres}.genre-tag:hover{color:var(--spice-text);text-decoration:underline;cursor:pointer}.main-embedWidgetGenerator-container{max-height:75vh}.genre-description-container{display:flex;flex-direction:column;gap:12px;-webkit-user-select:text;-moz-user-select:text;user-select:text}.genre-description-container .description-container{display:flex;flex-direction:column}.genre-description-container .related-genres-container{display:flex;flex-wrap:wrap;gap:0 12px}.genre-description-container .related-genres-container .genre-tag{color:rgba(var(--spice-rgb-selected-row),.7)!important}.genre-description-container .playlist-container{display:flex;gap:12px;align-items:center;padding:8px;border-radius:6px;background-color:rgba(var(--spice-rgb-main-secondary),.5)}.genre-description-container .playlist-container:hover{background-color:var(--spice-highlight);cursor:pointer;text-decoration:none}.genre-description-container .playlist-container .playlist-image{width:70px;height:70px;border-radius:4px}.genre-description-container .playlist-container .playlist-description{overflow:hidden}.genre-description-container .playlist-container .playlist-description .playlist-title{font-size:1.5em;font-weight:900;line-height:1.2em;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.genre-description-container .playlist-container .playlist-description .playlist-stats{font-size:.875rem;color:rgba(var(--spice-rgb-selected-row),.7)}.genre-description-container .description-container .main-type-alto{line-height:1.5em}.genre-description-container .description-container .main-gridContainer-gridContainer{--column-count:4;--grid-gap:16px}.genre-description-container .description-container .main-gridContainer-gridContainer .main-card-card{padding:12px}.genre-description-container .description-container .main-gridContainer-gridContainer .main-card-card .main-cardImage-imageWrapper{margin-bottom:8px}.genre-description-container .description-container .main-gridContainer-gridContainer .main-card-card .main-cardImage-imageWrapper .main-cardImage-image{height:auto;aspect-ratio:1/1;-o-object-fit:cover;object-fit:cover}.genre-description-container .description-container .main-gridContainer-gridContainer .main-card-card .main-cardHeader-text{color:var(--spice-text);padding-block-end:0px;line-height:1em}.skeleton{position:relative;overflow:hidden;width:100%;border-radius:6px;background-color:rgba(var(--spice-rgb-main-secondary),.5)}.skeleton::after{content:"";position:absolute;display:block;width:100%;height:100%;background:linear-gradient(to right,transparent,rgba(255,255,255,.1),transparent);animation:loading 2.5s infinite}@keyframes loading{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}
      `.trim(),document.head.appendChild(e))})()}();